(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports={mask:"JobMask_mask__On5e1",form:"JobMask_form__2Ge7l","mask-down":"JobMask_mask-down__WOkcN",title:"JobMask_title__2L-73",content:"JobMask_content__3urL3",cancelButton:"JobMask_cancelButton__Q2RjI",confirmButton:"JobMask_confirmButton__2ftvx"}},22:function(e,t,n){e.exports={filterContainer:"Filter_filterContainer__vHOkV",filterContent:"Filter_filterContent__18sMd",clearPart:"Filter_clearPart__SLvj0",searchPart:"Filter_searchPart__2bL72",sortPart:"Filter_sortPart__oL9KU"}},23:function(e,t,n){e.exports={container:"UserDetailPage_container__3ueSh",tableContainer:"UserDetailPage_tableContainer__37aHV",sideContainer:"UserDetailPage_sideContainer__3afCo",recommendContainer:"UserDetailPage_recommendContainer__1B8XA"}},25:function(e,t,n){e.exports={container:"CompanyDetailPage_container__HbRgo",table:"CompanyDetailPage_table__ICIYI",createJobButton:"CompanyDetailPage_createJobButton__28O1I",sideContainer:"CompanyDetailPage_sideContainer__3Uvmk"}},26:function(e,t,n){e.exports={container:"JobDetailPage_container__3kxMD",header:"JobDetailPage_header__3Zwvx",content:"JobDetailPage_content__2mY3Y",applicantsContainer:"JobDetailPage_applicantsContainer__3sv9w"}},29:function(e,t,n){e.exports={nav:"Navigation_nav__2ZKlO",title:"Navigation_title__1712P"}},30:function(e,t,n){e.exports={container:"JobList_container__QsGFK",companyImg:"JobList_companyImg__3j5y9",jobContent:"JobList_jobContent__1BO7J"}},34:function(e,t,n){e.exports={container:"JobPage_container__2wjaE",content:"JobPage_content__lcp8C"}},35:function(e,t,n){e.exports={container:"CreateCompanyPage_container__WpQFz",form:"CreateCompanyPage_form__34y5p"}},36:function(e,t,n){e.exports={container:"LoginPage_container__Ztr2M",radioContainer:"LoginPage_radioContainer__2sZSf"}},37:function(e,t,n){e.exports={container:"CreateUserPage_container__2cEAD",form:"CreateUserPage_form__JyZtK"}},43:function(e,t,n){e.exports={container:"SignupPage_container__T-Dj3"}},46:function(e,t,n){e.exports=n(64)},51:function(e,t,n){},56:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(40),l=n.n(c),o=(n(51),n(6)),i=n(7),s=n(10),u=n(8),p=n(9),m=n(2),d=n(12),f=n(18),b=(n(56),n(45)),h=n(29),E=n.n(h),y=function(e){return{type:"INITIAL_LOGIN_DATA",payload:e}},_=n(22),v=n.n(_),g=n(1),j=n.n(g),O=n(5),C=n(4),J=function(e){var t=new FormData;return t.append("email",e.email),t.append("password",e.password),t.append("name",e.name),t.append("address",e.address),t.append("type",e.type),t.append("description",e.description),t.append("img",e.imgUrl),fetch("/graphql",{body:t,method:"POST"}).then(function(e){return e.json()}).catch(function(e){return e})},k=function(e,t){var n={query:"\n            query login($email: String!, $password: String!){\n                companyLogin(email: $email, password: $password) {\n                    _id,\n                    email,\n                    name,\n                    address,\n                    type,\n                    description,\n                    imgUrl,\n                    identification,\n                    jobs {\n                        _id,\n                        title,\n                        description,\n                        requirement,\n                        date,\n                        type,\n                        companyId {\n                            _id,\n                            name,\n                            address,\n                            imgUrl\n                        }\n                        applicants {\n                            _id,\n                            username,\n                            email\n                        }\n                    }\n                }\n            }\n        ",variables:{email:e,password:t}};return fetch("/graphql",{headers:{"Content-Type":"application/json"},body:JSON.stringify(n),method:"POST"}).then(function(e){return e.json()}).catch(function(e){return e})},w=function(e){return{type:"INITIAL_COMPANY_DATA",payload:e}},D=function(e){return{type:"CHANGE_COMPANY_JOBS_DATA",payload:e}},A=function(e){var t={query:"\n            mutation createOne($inputData: CreateJobInput) {\n                createJob(jobInput: $inputData){\n                    _id,\n                    title,\n                    description,\n                    requirement,\n                    date,\n                    type,\n                    companyId {\n                        _id,\n                        name,\n                        address,\n                        imgUrl\n                    }\n                    applicants {\n                        _id,\n                        username,\n                        email\n                    }\n                }\n            }\n        ",variables:{inputData:{title:e.title,description:e.description,requirement:e.requirement,type:e.type,companyId:e._id}}};return fetch("/graphql",{headers:{"Content-Type":"application/json"},body:JSON.stringify(t),method:"POST"}).then(function(e){return e.json()}).catch(function(e){return e})},I=function(e){var t={query:"\n            mutation updateOne($inputData: UpdateJobInput) {\n                updateJob(updateInput: $inputData){\n                    _id,\n                    title,\n                    description,\n                    requirement,\n                    date,\n                    type,\n                    companyId {\n                        _id,\n                        name,\n                        address,\n                        imgUrl\n                    }\n                    applicants {\n                        _id\n                    }\n                }\n            }\n        ",variables:{inputData:{_id:e._id,title:e.title,description:e.description,requirement:e.requirement,type:e.type}}};return fetch("/graphql",{headers:{"Content-Type":"application/json"},body:JSON.stringify(t),method:"POST"}).then(function(e){return e.json()}).catch(function(e){return e})},T=function(e,t){var n={query:"\n            mutation ApplyJob($userId: String!, $jobId: String!) {\n                applyJob(userId: $userId, jobId: $jobId) {\n                    _id,\n                    title,\n                    description,\n                    requirement,\n                    date,\n                    type,\n                    companyId {\n                        _id,\n                        name,\n                        address,\n                        imgUrl\n                    }\n                    applicants {\n                        _id,\n                        username,\n                        email\n                    }\n                }\n            }\n        ",variables:{userId:e,jobId:t}};return fetch("graphql",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).catch(function(e){return e})},x=function(e){var t={query:"\n            query GetRecommendJobs($desire: [String!]) {\n                getRecommendJobs (desire: $desire) {\n                    _id,\n                    title,\n                    description,\n                    requirement,\n                    date,\n                    type,\n                    companyId {\n                        _id,\n                        name,\n                        address,\n                        imgUrl\n                    }\n                    applicants {\n                        _id,\n                        username,\n                        email\n                    }\n                }\n            }       \n        ",variables:{desire:e}};return fetch("/graphql",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},N=function(e){var t={query:"\n            mutation delete($jobId: String!) {\n                deleteJob(jobId: $jobId) {\n                    _id\n                }\n            }        \n        ",variables:{jobId:e}};return fetch("/graphql",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},S=function(e){return{type:"INITIAL_ALLJOB_DATA",payload:e}},P=function(e){return{type:"CREATE_JOB_DATA",payload:e}},U=function(e){return{type:"VIEW_JOB_DETAIL_DATA",payload:e}},L=function(e){return{type:"ADD_JOB_TO_USER_DATA",payload:e}},R=function(e){return{type:"SET_RECOMMEND_JOBS_DATA",payload:e}},q=function(){return function(){var e=Object(O.a)(j.a.mark(function e(t,n){var a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/graphql",{headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n            query {\n                getAllJobs {\n                    _id,\n                    title,\n                    description,\n                    requirement,\n                    date,\n                    type,\n                    companyId {\n                        _id,\n                        name,\n                        address,\n                        imgUrl\n                    }\n                    applicants {\n                        _id,\n                        username,\n                        email\n                    }\n                }\n            }\n        "}),method:"POST"}).then(function(e){return e.json()}).catch(function(e){return e});case 3:return a=e.sent,e.abrupt("return",t(S(a.data.getAllJobs)));case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}()},M=function(e){var t={query:"\n            query Sort($sortedText: String!) {\n                sortJobs(sortedText: $sortedText) {\n                    _id,\n                    title,\n                    description,\n                    requirement,\n                    date,\n                    type,\n                    companyId {\n                        _id,\n                        name,\n                        address,\n                        imgUrl\n                    }\n                    applicants {\n                        _id,\n                        username,\n                        email\n                    }\n                }\n            }       \n        ",variables:{sortedText:e}};return fetch("/graphql",{body:JSON.stringify(t),headers:{"Content-Type":"application/json"},method:"POST"}).then(function(e){return e.json()}).catch(function(e){return e})},H=function(e){var t={query:"\n            query Search($text: String!) {\n                searchJobs(text: $text) {\n                    _id,\n                    title,\n                    description,\n                    requirement,\n                    date,\n                    type,\n                    companyId {\n                        _id,\n                        name,\n                        address,\n                        imgUrl\n                    }\n                    applicants {\n                        _id,\n                        username,\n                        email\n                    }\n                }\n            }       \n        ",variables:{text:e}};return fetch("/graphql",{body:JSON.stringify(t),headers:{"Content-Type":"application/json"},method:"POST"}).then(function(e){return e.json()}).catch(function(e){return e})},F=Object(m.b)(null,{sortJobs:function(e){return function(){var t=Object(O.a)(j.a.mark(function t(n,a){var r;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M(e);case 3:return r=t.sent,n(S(r.data.sortJobs)),t.abrupt("return",1);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,n){return t.apply(this,arguments)}}()},fetchJobsData:q,searchData:function(e){return function(){var t=Object(O.a)(j.a.mark(function t(n,a){var r;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H(e);case 3:return r=t.sent,n(S(r.data.searchJobs)),t.abrupt("return",1);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,n){return t.apply(this,arguments)}}()}})(function(e){var t={top:e.top},n=r.a.createRef(),a=r.a.createRef();return r.a.createElement("div",{className:v.a.filterContainer,style:t},r.a.createElement("div",{className:v.a.filterContent},r.a.createElement("div",{className:v.a.sortPart},r.a.createElement("label",null,"Sorted By "),r.a.createElement("select",{defaultValue:"-default-",onChange:function(t){var n=t.target.value;"default"===n?e.fetchJobsData():e.sortJobs(n)},ref:n},r.a.createElement("option",{value:"default"},"-default-"),r.a.createElement("option",{value:"job-title"},"Title(A-Z)"))),r.a.createElement("div",{className:v.a.searchPart},r.a.createElement("input",{ref:a,type:"text"}),r.a.createElement("button",{onClick:function(){var t=a.current.value;e.searchData(t)}},"Search")),r.a.createElement("div",{className:v.a.clearPart},r.a.createElement("button",{onClick:function(t){e.fetchJobsData(),n.current.value="default",a.current.value=""}},"Clear Search"))))}),B=Object(f.f)(Object(m.b)(function(e){return{loginData:e.loginData}})(function(e){var t=Object(a.useState)(!1),n=Object(b.a)(t,2),c=n[0],l=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:E.a.nav},r.a.createElement("div",null,r.a.createElement("span",{className:E.a.title,onClick:function(){e.history.push("/all-jobs")}},"Task-Raider-OFFER"),r.a.createElement("div",{className:E.a.searchBar})),r.a.createElement("ul",null,"/all-jobs"===e.location.pathname&&r.a.createElement("li",{onClick:function(){return l(!c)}},r.a.createElement("a",null,"Filter")),!e.loginData.isLogin&&r.a.createElement("li",null,r.a.createElement(d.b,{to:"/login"},"Login")),!e.loginData.isLogin&&r.a.createElement("li",null,r.a.createElement(d.b,{to:"/signup"},"Signup")),e.loginData.isLogin&&0===e.loginData.identification&&r.a.createElement("li",null,r.a.createElement(d.b,{to:"/user-detail"},"My Data")),e.loginData.isLogin&&1===e.loginData.identification&&r.a.createElement("li",null,r.a.createElement(d.b,{to:"/company-detail"},"Company Data")),e.loginData.isLogin&&r.a.createElement("li",{onClick:function(){e.dispatch({type:"DO_LOGOUT_DATA"}),e.history.push("/all-jobs")}},r.a.createElement("a",null,"Logout")))),c&&"/all-jobs"===e.location.pathname&&r.a.createElement(F,{top:"calc(50px + 1vw)"}))})),$=n(34),V=n.n($),G=n(30),Y=n.n(G),Z=Object(f.f)(Object(m.b)(null,{viewJobDetail:function(e){return function(){var t=Object(O.a)(j.a.mark(function t(n,a){return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{n(U(e))}catch(a){console.log(a)}case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}})(function(e){var t=function(t){e.viewJobDetail(t),e.history.push("/job-detail")};return r.a.createElement("div",{className:Y.a.container},r.a.createElement("ul",null,e.jobs.length>0&&e.jobs.map(function(e,n){return r.a.createElement("li",{key:n,onClick:t.bind(void 0,e)},r.a.createElement("img",{className:Y.a.companyImg,src:e.companyId.imgUrl}),r.a.createElement("div",{className:Y.a.jobContent},r.a.createElement("span",null,r.a.createElement("b",null,e.title)),r.a.createElement("span",null,e.companyId.name),r.a.createElement("span",null,e.companyId.address)))})))})),K=function(e){function t(e){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.jobs&&this.props.jobs.length>0||this.props.fetchJobsData()}},{key:"render",value:function(){return console.log(this.props.jobs),r.a.createElement("div",{className:V.a.container},this.props.jobs.length>0&&r.a.createElement("div",{className:V.a.content},r.a.createElement(Z,{jobs:this.props.jobs})))}}]),t}(a.PureComponent),W=Object(m.b)(function(e){return{jobs:e.allJobs.data}},{fetchJobsData:q})(K),Q=n(43),z=n.n(Q),X=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).companySignupHandler=function(){n.props.history.push("/create-company")},n.userSignupHandler=function(){n.props.history.push("/create-user")},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:z.a.container},r.a.createElement("button",{onClick:this.companySignupHandler},"Create A Company"),r.a.createElement("button",{onClick:this.userSignupHandler},"Create a User"))}}]),t}(a.PureComponent),ee=Object(f.f)(X),te=n(35),ne=n.n(te),ae=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).createCompanyHandler=function(e){e.preventDefault();var t={email:n.emailEl.current.value,password:n.passwordEl.current.value,name:n.nameEl.current.value,address:n.addressEl.current.value,type:n.typeEl.current.value,description:n.descriptionEl.current.value,imgUrl:n.imgUrlEl.current.files[0]};n.props.createCompanyData(t)&&n.props.history.push("/company-detail")},n.emailEl=r.a.createRef(),n.passwordEl=r.a.createRef(),n.rePasswordEl=r.a.createRef(),n.nameEl=r.a.createRef(),n.addressEl=r.a.createRef(),n.typeEl=r.a.createRef(),n.descriptionEl=r.a.createRef(),n.imgUrlEl=r.a.createRef(),n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:ne.a.container},r.a.createElement("form",{className:ne.a.form},r.a.createElement("label",{htmlFor:"company-email"},"Company Email(For Login)"),r.a.createElement("input",{id:"company-email",type:"text",ref:this.emailEl}),r.a.createElement("label",{htmlFor:"company-password"},"Password"),r.a.createElement("input",{id:"company-password",type:"password",ref:this.passwordEl}),r.a.createElement("label",{htmlFor:"company-repassword"},"Re-Password"),r.a.createElement("input",{id:"company-repassword",type:"password",ref:this.rePasswordEl}),r.a.createElement("label",{htmlFor:"company-name"},"Company Name"),r.a.createElement("input",{id:"company-name",type:"text",ref:this.nameEl}),r.a.createElement("label",{htmlFor:"company-address"},"Address"),r.a.createElement("input",{id:"company-address",type:"text",ref:this.addressEl}),r.a.createElement("label",{htmlFor:"company-type"},"Type of Business"),r.a.createElement("select",{id:"company-type",ref:this.typeEl},r.a.createElement("option",null,"Computer"),r.a.createElement("option",null,"Finance"),r.a.createElement("option",null,"Service"),r.a.createElement("option",null,"Health")),r.a.createElement("label",{htmlFor:"company-description"},"Description"),r.a.createElement("textarea",{ref:this.descriptionEl}),r.a.createElement("label",{htmlFor:"company-imgUrl"},"Company Logo"),r.a.createElement("input",{type:"file",ref:this.imgUrlEl}),r.a.createElement("button",{onClick:this.createCompanyHandler},"Create")))}}]),t}(a.PureComponent),re=Object(f.f)(Object(m.b)(null,{createCompanyData:function(e){return function(){var t=Object(O.a)(j.a.mark(function t(n,a){var r;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J(e);case 3:return r=t.sent,n(w(r.data.createCompany)),n(y({identification:r.data.createCompany.identification,username:r.data.createCompany.name,_id:r.data.createCompany._id})),t.abrupt("return",1);case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",0);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e,n){return t.apply(this,arguments)}}()}})(ae)),ce=n(25),le=n.n(ce),oe=n(19),ie=n.n(oe),se=function(e){var t=r.a.createRef(),n=r.a.createRef(),a=r.a.createRef(),c=r.a.createRef();return r.a.createElement("div",{className:ie.a.mask},r.a.createElement("form",{className:ie.a.form},r.a.createElement("span",{className:ie.a.title},e.title),r.a.createElement("div",{className:ie.a.content},r.a.createElement("label",{htmlFor:"jobMaskTitle"},"Job Title"),r.a.createElement("input",{id:"jobMaskTitle",ref:t,defaultValue:e.update?e.current.title:""}),r.a.createElement("label",{htmlFor:"jobMaskDes"},"Job Description"),r.a.createElement("textarea",{id:"jobMaskDes",ref:n,defaultValue:e.update?e.current.description:""}),r.a.createElement("label",{htmlFor:"jobMaskReq"},"Skill Requirement"),r.a.createElement("input",{id:"jobMaskReq",ref:a,defaultValue:e.update?e.current.requirement:""}),r.a.createElement("label",{htmlFor:"jobMaskType"},"Job Type"),r.a.createElement("select",{id:"jobMaskType",ref:c,defaultValue:e.update&&e.current.type},r.a.createElement("option",{defaultValue:"full time"},"Full Time"),r.a.createElement("option",{defaultValue:"internship"},"Internship"),r.a.createElement("option",{defaultValue:"contract"},"Contract")),r.a.createElement("button",{className:ie.a.cancelButton,onClick:e.cancel},"Cancel"),r.a.createElement("button",{className:ie.a.confirmButton,onClick:function(r){r.preventDefault();var l=e.update?e.current:{};l=Object(C.a)({},l,{title:t.current.value,description:n.current.value,requirement:a.current.value.split(","),type:c.current.value}),e.confirm(l)}},"Confirm"))))},ue=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={showMask:!1},n.openMaskHandler=function(e){n.setState({showMask:!0})},n.cancelMaskHandler=function(){n.setState({showMask:!1})},n.createJobHandler=function(e){n.props.createJobData(Object(C.a)({},e,{_id:n.props.company._id}));n.setState({showMask:!1})},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.company;return console.log(e),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:le.a.container},e&&r.a.createElement("table",{className:le.a.table},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{src:e.imgUrl})),r.a.createElement("td",null,r.a.createElement("button",{className:le.a.createJobButton,onClick:this.openMaskHandler},"Create A Job")))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Name: "),r.a.createElement("td",null,e.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"Address: "),r.a.createElement("td",null,e.address)),r.a.createElement("tr",null,r.a.createElement("td",null,"Type: "),r.a.createElement("td",null,e.type)),r.a.createElement("tr",null,r.a.createElement("td",null,"Description: "),r.a.createElement("td",null,e.description)),r.a.createElement("tr",null,r.a.createElement("td",null,"Contact: "),r.a.createElement("td",null,e.email)))),e&&r.a.createElement("div",{className:le.a.sideContainer},r.a.createElement(Z,{jobs:e.jobs}))),this.state.showMask&&r.a.createElement(se,{title:"Create",cancel:this.cancelMaskHandler,confirm:this.createJobHandler}))}}]),t}(a.PureComponent),pe=Object(m.b)(function(e){return{company:e.company.data}},{createJobData:function(e){return function(){var t=Object(O.a)(j.a.mark(function t(n,a){var r;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A(e);case 3:return r=t.sent,n(P(r.data.createJob)),t.abrupt("return",1);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,n){return t.apply(this,arguments)}}()}})(ue),me=n(36),de=n.n(me),fe=function(e){var t={query:"\n            mutation createOne($user: CreateUserInput){\n                createUser(userInput: $user) {\n                    _id,\n                    username,\n                    email,\n                    skills,\n                    desire,\n                    identification,\n                    jobs {\n                        _id\n                    }\n                }\n            }\n        ",variables:{user:{username:e.username,email:e.email,password:e.password,skills:e.skills,desire:e.desire}}};return fetch("/graphql",{headers:{"Content-Type":"application/json"},body:JSON.stringify(t),method:"POST"}).then(function(e){return e.json()}).catch(function(e){return e})},be=function(e,t){var n={query:"\n            query login($email: String!, $password: String!){\n                userLogin(email: $email, password: $password) {\n                    _id,\n                    username,\n                    email,\n                    skills,\n                    desire,\n                    identification,\n                    jobs {\n                        _id,\n                        title,\n                        description,\n                        requirement,\n                        date,\n                        type,\n                        companyId {\n                            _id,\n                            name,\n                            address,\n                            imgUrl\n                        }\n                        applicants {\n                            _id,\n                            username,\n                            email\n                        }\n                    }\n                }\n            }\n        ",variables:{email:e,password:t}};return fetch("/graphql",{headers:{"Content-Type":"application/json"},body:JSON.stringify(n),method:"POST"}).then(function(e){return e.json()}).catch(function(e){return e})},he=function(e){return{type:"INITIAL_USER_DATA",payload:e}},Ee=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).loginHandler=function(){var e=Object(O.a)(j.a.mark(function e(t){var a,r,c;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.emailEl.current.value,r=n.passwordEl.current.value,c=n.userRadioEl.current.checked?0:1,0,!c){e.next=12;break}return e.next=8,n.props.companyLogin(a,r);case 8:e.sent?n.props.history.push("/company-detail"):alert("cannot find user"),e.next=16;break;case 12:return e.next=14,n.props.userLogin(a,r);case 14:e.sent?n.props.history.push("/user-detail"):alert("cannot find user");case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.emailEl=r.a.createRef(),n.passwordEl=r.a.createRef(),n.userRadioEl=r.a.createRef(),n.companyRadioEl=r.a.createRef(),n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:de.a.container},r.a.createElement("form",null,r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"text",ref:this.emailEl}),r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",ref:this.passwordEl}),r.a.createElement("div",{className:de.a.radioContainer},r.a.createElement("label",null,"User"),r.a.createElement("label",null,"Company"),r.a.createElement("span",null,r.a.createElement("input",{type:"radio",name:"type",id:"user-radio",defaultChecked:!0,ref:this.userRadioEl})),r.a.createElement("span",null,r.a.createElement("input",{type:"radio",name:"type",id:"company-radio",ref:this.companyRadioEl}))),r.a.createElement("button",{onClick:this.loginHandler},"Login")))}}]),t}(a.PureComponent),ye=Object(f.f)(Object(m.b)(null,{companyLogin:function(e,t){return function(){var n=Object(O.a)(j.a.mark(function n(a,r){var c;return j.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k(e,t);case 3:return c=n.sent,a(w(c.data.companyLogin)),a(y({identification:c.data.companyLogin.identification,username:c.data.companyLogin.name,_id:c.data.companyLogin._id})),n.abrupt("return",1);case 9:return n.prev=9,n.t0=n.catch(0),n.abrupt("return",0);case 12:case"end":return n.stop()}},n,null,[[0,9]])}));return function(e,t){return n.apply(this,arguments)}}()},userLogin:function(e,t){return function(){var n=Object(O.a)(j.a.mark(function n(a,r){var c;return j.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,be(e,t);case 3:return c=n.sent,a(he(c.data.userLogin)),a(y({identification:c.data.userLogin.identification,username:c.data.userLogin.username,_id:c.data.userLogin._id})),n.abrupt("return",1);case 9:return n.prev=9,n.t0=n.catch(0),n.abrupt("return",0);case 12:case"end":return n.stop()}},n,null,[[0,9]])}));return function(e,t){return n.apply(this,arguments)}}()}})(Ee)),_e=n(26),ve=n.n(_e),ge=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={showMask:!1},n.cancelMaskHandler=function(){n.setState({showMask:!1})},n.showMaskHandler=function(){n.setState({showMask:!0})},n.updateJobHandler=function(e){n.props.updateJobDetail(e),n.setState({showMask:!1})},n.applyHandler=Object(O.a)(j.a.mark(function e(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.props.loginData.isLogin){e.next=5;break}alert("Please login first"),n.props.history.push("/login"),e.next=9;break;case 5:return e.next=7,n.props.applyJob({userId:n.props.loginData._id,jobId:n.props.currentJob._id});case 7:e.sent?alert("success"):alert("failure");case 9:case"end":return e.stop()}},e)})),n.deleteJobHandler=Object(O.a)(j.a.mark(function e(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.deleteJob(n.props.currentJob._id);case 2:e.sent&&n.props.history.push("/company-detail");case 4:case"end":return e.stop()}},e)})),n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.currentJob,t=this.props.loginData,n=t.isLogin,a=t.identification,c=t._id,l=this.props.currentUser;return r.a.createElement("div",{className:ve.a.container},e&&r.a.createElement("div",{className:ve.a.content},r.a.createElement("div",{className:ve.a.header},r.a.createElement("img",{src:e.companyId.imgUrl}),!(n&&1===a&&e.companyId._id!==c)&&r.a.createElement("div",null,n&&1===a&&r.a.createElement("button",{onClick:this.showMaskHandler},"Update"),n&&1===a&&r.a.createElement("button",{onClick:this.deleteJobHandler},"Delete"),(!n||n&&0===a&&l.jobs.every(function(t){return t._id!==e._id}))&&r.a.createElement("button",{onClick:this.applyHandler},"Apply Online"),n&&0===a&&l.jobs.some(function(t){return t._id===e._id})&&r.a.createElement("button",{disabled:!0},"Already Applied"))),r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,e.title),r.a.createElement("li",null,"Company:"),r.a.createElement("li",null,e.companyId.name),r.a.createElement("li",null,"Address:"),r.a.createElement("li",null,e.companyId.address),r.a.createElement("li",null,"Open Date:"),r.a.createElement("li",null,e.date),r.a.createElement("li",null,"Description:"),r.a.createElement("li",null,e.description),r.a.createElement("li",null,"Requirement:"),r.a.createElement("li",null,e.requirement),r.a.createElement("li",null,"Job Type:"),r.a.createElement("li",null,e.type))),n&&1===a&&e.applicants.length>0&&r.a.createElement("div",{className:ve.a.applicantsContainer},r.a.createElement("span",null,"Applicants: "),r.a.createElement("ul",null,e.applicants.map(function(e){return r.a.createElement("li",{key:e._id},e.username)})))),this.state.showMask&&r.a.createElement(se,{title:"Update",cancel:this.cancelMaskHandler,confirm:this.updateJobHandler,update:!0,current:e}))}}]),t}(a.PureComponent),je=Object(f.f)(Object(m.b)(function(e){var t=e.allJobs,n=e.loginData,a=e.currentUser;return{currentJob:t.currentJob,loginData:n,currentUser:a.user}},{updateJobDetail:function(e){return function(){var t=Object(O.a)(j.a.mark(function t(n,a){var r,c,l;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I(e);case 3:r=t.sent,c=a().allJobs.data,l=Object(C.a)({},r.data.updateJob,{title:e.title,description:e.description,requirement:e.requirement,type:e.type}),c=c.map(function(e){return e._id===l._id?l:e}),n(S(c)),n(U(e)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e,n){return t.apply(this,arguments)}}()},applyJob:function(e){return function(){var t=Object(O.a)(j.a.mark(function t(n,a){var r,c;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T(e.userId,e.jobId);case 3:return r=t.sent,n(L(r.data.applyJob)),(c=a().allJobs.data)&&c.length>0&&(c=c.map(function(e){return e._id===r.data.applyJob._id?r.data.applyJob:e}),n(S(c))),a().allJobs.currentJob&&n(U(r.data.applyJob)),t.abrupt("return",1);case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",0);case 15:case"end":return t.stop()}},t,null,[[0,12]])}));return function(e,n){return t.apply(this,arguments)}}()},deleteJob:function(e){return function(){var t=Object(O.a)(j.a.mark(function t(n,a){var r,c;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N(e);case 3:return t.sent,n(U(null)),r=a().company.data.jobs,c=[],r&&r.length>0&&(r.forEach(function(t){t._id!==e&&c.push(t)}),n(D(c))),t.abrupt("return",1);case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",0);case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e,n){return t.apply(this,arguments)}}()}})(ge)),Oe=n(37),Ce=n.n(Oe),Je=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={firstContent:!0},n.createUserHandler=function(e){e.preventDefault();var t={email:n.emailEl.current.value,password:n.passwordEl.current.value,repassword:n.rePasswordEl.current.value,username:n.usernameEl.current.value,skills:n.skillsEl.current.value.split(","),desire:n.desireEl.current.value.split(",")};n.props.createUser(t)&&n.props.history.push("/user-detail")},n.changeContentHandler=function(){n.setState({firstContent:!n.state.firstContent})},n.emailEl=r.a.createRef(),n.passwordEl=r.a.createRef(),n.rePasswordEl=r.a.createRef(),n.usernameEl=r.a.createRef(),n.skillsEl=r.a.createRef(),n.desireEl=r.a.createRef(),n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:Ce.a.container},r.a.createElement("form",{className:Ce.a.form},r.a.createElement("label",{htmlFor:"user-email"},"Email(For Login)"),r.a.createElement("input",{id:"user-email",type:"text",ref:this.emailEl}),r.a.createElement("label",{htmlFor:"user-password"},"Password"),r.a.createElement("input",{id:"user-password",type:"password",ref:this.passwordEl}),r.a.createElement("label",{htmlFor:"user-repassword"},"Re-Password"),r.a.createElement("input",{id:"user-repassword",type:"password",ref:this.rePasswordEl}),r.a.createElement("label",{htmlFor:"user-username"},"Username"),r.a.createElement("input",{id:"user-username",type:"text",ref:this.usernameEl}),r.a.createElement("label",{htmlFor:"user-skills"},"skills:"),r.a.createElement("input",{id:"user-skills",type:"text",ref:this.skillsEl}),r.a.createElement("label",{htmlFor:"user-desire"},"Desired Job Title:"),r.a.createElement("input",{id:"user-desire",type:"text",ref:this.desireEl}),r.a.createElement("button",{onClick:this.createUserHandler},"Create")))}}]),t}(a.PureComponent),ke=Object(f.f)(Object(m.b)(null,{createUser:function(e){return function(){var t=Object(O.a)(j.a.mark(function t(n,a){var r;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe(e);case 3:return r=t.sent,n(he(r.data.createUser)),n(y({identification:r.data.createUser.identification,username:r.data.createUser.username,_id:r.data.createUser._id})),t.abrupt("return",1);case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",0);case 13:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e,n){return t.apply(this,arguments)}}()}})(Je)),we=n(23),De=n.n(we),Ae=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).updateInfoHandler=function(){},n.refreshRecommendationHandler=function(){n.props.getRecommendJobs(n.props.currentUser.desire)},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getRecommendJobs(this.props.currentUser.desire)}},{key:"render",value:function(){console.log(this.props.currentUser);var e=this.props.currentUser;return r.a.createElement("div",{className:De.a.container},e&&r.a.createElement("div",{className:De.a.tableContainer},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("span",null,e.username)),r.a.createElement("td",null,r.a.createElement("button",{className:De.a.updateButton,onClick:this.updateInfoHandler},"Update Info")))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Email: "),r.a.createElement("td",null,e.email)),r.a.createElement("tr",null,r.a.createElement("td",null,"Skills"),r.a.createElement("td",null,e.skills)),r.a.createElement("tr",null,r.a.createElement("td",null,"Desire Job Title:"),r.a.createElement("td",null,e.desire)))),r.a.createElement("div",{className:De.a.sideContainer},r.a.createElement("span",null,"Already Applied Jobs: "),r.a.createElement(Z,{jobs:e.jobs}))),e&&r.a.createElement("div",{className:De.a.recommendContainer},r.a.createElement("div",null,r.a.createElement("span",null,"Recommended Jobs: "),r.a.createElement("button",{onClick:this.refreshRecommendationHandler},"Refresh Recommendation")),r.a.createElement(Z,{jobs:this.props.recommendJobs})))}}]),t}(a.PureComponent),Ie=Object(m.b)(function(e){var t=e.currentUser,n=e.allJobs;return{currentUser:t.user,recommendJobs:n.recommendJobs}},{getRecommendJobs:function(e){return function(){var t=Object(O.a)(j.a.mark(function t(n,a){var r;return j.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x(e);case 3:return r=t.sent,n(R(r.data.getRecommendJobs)),t.abrupt("return",1);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,n){return t.apply(this,arguments)}}()}})(Ae),Te=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.loginData.isLogin,t=e?this.props.loginData.identification:null;return r.a.createElement(d.a,null,r.a.createElement(B,null),r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/all-jobs",component:W}),r.a.createElement(f.b,{exact:!0,path:"/signup",component:ee}),r.a.createElement(f.b,{exact:!0,path:"/company-detail",component:pe}),r.a.createElement(f.b,{exact:!0,path:"/login",component:ye}),r.a.createElement(f.b,{exact:!0,path:"/job-detail",component:je}),r.a.createElement(f.b,{exact:!0,path:"/create-company",component:re}),r.a.createElement(f.b,{exact:!0,path:"/create-user",component:ke}),e&&0===t&&r.a.createElement(f.b,{exact:!0,path:"/user-detail",component:Ie}),r.a.createElement(f.a,{from:"*",to:"/all-jobs"})))}}]),t}(a.Component),xe=Object(m.b)(function(e){return{loginData:e.loginData}})(Te),Ne=n(17),Se=n(44),Pe=n(20),Ue={data:[],currentJob:null,recommendJobs:[]},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIAL_ALLJOB_DATA":return Object(C.a)({},e,{data:t.payload});case"CREATE_JOB_DATA":return Object(C.a)({},e,{data:[].concat(Object(Pe.a)(e.data),[t.payload])});case"VIEW_JOB_DETAIL_DATA":return Object(C.a)({},e,{currentJob:t.payload});case"SET_RECOMMEND_JOBS_DATA":return Object(C.a)({},e,{recommendJobs:t.payload});default:return e}},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIAL_COMPANY_DATA":return Object(C.a)({},e,{data:t.payload});case"CREATE_JOB_DATA":return Object(C.a)({},e,{data:Object(C.a)({},e.data,{jobs:[].concat(Object(Pe.a)(e.data.jobs),[t.payload])})});case"CHANGE_COMPANY_JOBS_DATA":return Object(C.a)({},e,{data:Object(C.a)({},e.data,{jobs:t.payload})});default:return e}},qe={isLogin:!1},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIAL_LOGIN_DATA":return Object(C.a)({},t.payload,{isLogin:!0});case"DO_LOGOUT_DATA":return{isLogin:!1};default:return e}},He={user:{}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIAL_USER_DATA":return Object(C.a)({},e,{user:t.payload});case"ADD_JOB_TO_USER_DATA":return Object(C.a)({},e,{user:Object(C.a)({},e.user,{jobs:[].concat(Object(Pe.a)(e.user.jobs),[t.payload])})});default:return e}},Be=Object(Ne.c)({allJobs:Le,company:Re,loginData:Me,currentUser:Fe}),$e=Object(Ne.d)(Be,{},Object(Ne.a)(Se.a));l.a.render(r.a.createElement(m.a,{store:$e},r.a.createElement(xe,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.f65c4af7.chunk.js.map